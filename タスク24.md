# 📌 タイトル
- バックエンドの本格機能開発

---

## 💼 業務で活かす場面
- バックエンドアプリケーションの開発

---

## 🎯 学習目的
- 実際の開発現場に入った際に、困ることがないように準備しておく

---

## 📝 全体の感想
- コンテナ同士を連携させて、一連の処理を実行して結果を確認する過程を通じて、具体的な連携方法を体感できて面白かった。

---

## 📖 内容の要約

### 作業概要
1. モデル作成
2. コンテナ起動
3. データベース確認

#### 1.モデル作成
1. employee.goを作成し、Employeeモデルを表す構造体を定義
2. Migrate関数内で、データベースの作成時に、Employeeモデルもインポートするように設計

#### 2.コンテナ起動
1. make up-dbでdbコンテナの立ち上げ
2. make run-devでバックエンドアプリケーション用コンテナを起動
3. make init-dbで、データベースの初期化処理を実施

#### 3.データベース確認
1. dbコンテナの中に入り、mysqlを起動
2. `template`データベースを選択し、テーブル一覧を確認
3. `作成した`employees`テーブルが追加されていることを確認

---

## ❓ 不明点・疑問点

### GORMで指定できる型について

#### 🔸 質問内容
- 型にはどのような種類があるのでしょうか

#### 🔸 質問方法・回答
- ChatGPT
GORMで指定できる型（type）は、主にデータベース（MySQL, PostgreSQL, SQLiteなど）のカラム型に対応しています。
代表的な型は以下の通りです。
##### 文字列型
- varchar(n)
- char(n)
- text
- longtext
##### 数値型
- int
- bigint
- smallint
- float
- double
- decimal
##### 日付・時刻型
- datetime
- timestamp
- date
- time
##### 真偽値型
- bool
- boolean
##### その他
- blob
- json
- enum('A','B','C')


### 文字列型はどのように異なるのか

#### 🔸 質問内容
- varchar(n)
char(n)
text
longtext

上記の文字列型はどのように異なるのでしょうか

#### 🔸 質問方法・回答
- ChatGPT
##### varchar(n)
- 可変長文字列型
- 最大 n 文字まで保存可能
- 実際の文字数分だけ領域を使う
- 例: 名前やメールアドレスなど長さが異なるデータ向け
##### char(n)
- 固定長文字列型
- 常に n 文字分の領域を使う（短い場合は空白で埋める）
- 例: 郵便番号や国コードなど、長さが決まっているデータ向け
##### text
- 可変長の大きな文字列型
- 長文や説明文など、varchar より長いデータ向け
- 最大サイズはDBによって異なる（MySQLでは約65,535バイト）
##### longtext
- text よりさらに大きな文字列型
- 非常に長い文章や大量のテキストデータ向け
- MySQLでは最大4GBまで保存可能


### GORMのタグで指定できるパラメータについて

#### 🔸 質問内容
- このケース以外に、どのようなパターンやパラメータが設定できるのか教えてください

#### 🔸 質問方法・回答
- ChatGPT
##### 主なGORMタグのパターン
type
カラムの型を指定（例: type:varchar(100)）
size
文字列型のサイズ指定（例: size:255）
primaryKey
主キー指定（例: primaryKey）
unique
ユニーク制約（例: unique）
not null
NULL不可（例: not null）
default
デフォルト値（例: default:'guest'）
index
インデックス作成（例: index）
autoIncrement
自動採番（例: autoIncrement）
column
カラム名を指定（例: column:employee_id）
embedded
構造体の埋め込み（例: embedded）
<-:create
作成時のみ書き込み可能（例: <-:create）


### Migrate関数の実行内容について

#### 🔸 質問内容
- Migrate関数が何を実行しているのかを教えてください
#### 🔸 質問方法・回答
- ChatGPT
この Migrate 関数は、GORM（GoのORMライブラリ）を使って、データベースにテーブルを自動作成（マイグレーション）する処理を実行しています。

具体的には：
```go
db.Set("gorm:table_options", "ENGINE=InnoDB")
```
で、テーブル作成時のオプション（MySQLのInnoDBエンジン指定）を設定します。
(setを実行しない場合はデフォルトオプションになる)
```go
AutoMigrate(
    &api.SampleModel{},
    &model.Employee{},
)
```
で、SampleModel と Employee という2つの構造体（モデル）に対応するテーブルをデータベースに作成・更新します。

もしエラーが発生した場合は、そのエラーを返します。
エラーがなければ nil を返します。

まとめ
この関数を呼び出すことで、指定したモデルのテーブルがDBに自動で作成・更新されます。




### mysqlで表示されるテーブル名について

#### 🔸 質問内容
- データベースの初期化を行なって、テーブルの一覧を確認すると、以下のように表示されたのですが、テーブル名のemployeesはどこからきているのでしょうか

+--------------------+
| Tables_in_template |
+--------------------+
| employees          |
| sample_models      |

#### 🔸 質問方法・回答
- ChatGPT
employees というテーブル名は、
employee.go で定義した Employee 構造体から自動的に生成されています。
##### 詳細
GORMでは、構造体名（例: Employee）を**複数形（小文字）**に変換してテーブル名を自動生成します。
そのため、Employee → employees というテーブル名になります。
##### まとめ
構造体名 Employee → テーブル名 employees（GORMの自動命名規則）
変更したい場合は、タグで tableName を指定できますが、デフォルトではこの命名です







---

## 💡 その他気づいたこと
- （関連知識や自分なりの工夫点など）

---

## 🛠️ コンテンツの改善点
- （改善してほしい点、補足してほしい情報など）



